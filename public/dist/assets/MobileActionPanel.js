import{r as n,j as e,bp as p,aG as u,bc as f,aB as b}from"./index.js";import{I as h,R as g}from"./CommentList.js";import"./index2.js";import"./index3.js";const j=({setIsOpenMobileMenu:l,addReply:r,code:s,parentId:o})=>{const a=n.useRef(null);return n.useEffect(()=>{a.current.addEventListener("input",t=>{t.target.style.height="auto",t.target.style.height=t.target.scrollHeight+2+"px"})},[]),e.jsxs("div",{role:"dialog",className:"fixed top-1/3 left-0 right-0 p-3 z-50 animate-in fade-in-5",children:[e.jsx("textarea",{autoFocus:!0,className:`resize-none w-full bg-black/95 backdrop-blur-sm p-3\r
            outline-0 max-h-[180px] border-[0.01px] border-white/20 rounded`,ref:a,rows:3,placeholder:"Напишите ответ.."}),e.jsx("button",{onClick:()=>{var t;r({code:s,parentId:o,text:(t=a.current)==null?void 0:t.value}),l(!1)},className:"bg-black/95 text-lg px-5 py-2 rounded border-[0.01px] border-white/20",children:"Ответить"})]})},w=({getShortId:l,userId:r,code:s,commentId:o,setIsOpenMobileMenu:a,parentId:t})=>{const[i,c]=n.useState(!1),{deleteComment:x,addReply:d}=p(),m=l===r;return e.jsxs("div",{role:"dialog",className:"fixed inset-0 bg-black/70 animate-in fade-in-80 duration-900",children:[i&&u.createPortal(e.jsx(j,{code:s,parentId:t,addReply:d,setIsOpenMobileMenu:a}),document.body,"mobileReplyPanel"),e.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-black/75 transform-cpu will-change-transform\r
                backdrop-blur-sm animate-mobile-menu flex flex-col gap-2 px-4 py-2 divide-y divide-white/10`,children:[e.jsxs("button",{className:"p-6 flex items-center justify-center gap-2",onClick:()=>c(!0),children:[e.jsx(h,{component:g,className:"text-[14px]"}),"Ответить"]}),m&&e.jsxs("button",{className:"p-6 flex items-center justify-center gap-2",onClick:()=>{x({code:s,commentId:o,parentId:t}),a(!1)},children:[e.jsx(f,{className:"text-[14px]"}),"Удалить"]}),e.jsxs("button",{className:"text-red-600 p-6 flex items-center justify-center gap-2",onClick:()=>a(!1),children:[e.jsx(b,{className:"text-[14px] text-red-600"}),"Отмена"]})]})]})};export{w as default};
