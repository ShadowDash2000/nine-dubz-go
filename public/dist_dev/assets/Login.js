import{cb as m,a as x,c as g,F as r,j as e,L as i,I as l,T as u,B as d}from"./index.js";import{u as p,a as f,b as h,c as j,d as y,e as b,L as w,f as I,R as N}from"./configForm.js";import{F as R}from"./index2.js";const c=m(n=>({message:"",login:async o=>{try{const t=await(await fetch("http://localhost:25565/api/authorize/inner/login",{method:"POST",body:JSON.stringify(o)})).json();return n({message:t==null?void 0:t.message}),t}catch(a){console.log(a.message)}}})),v=()=>{const n=c(s=>s.login),o=c(s=>s.message),a=x();return{signIn:g({mutationKey:["login"],mutationFn:s=>n(s),onSuccess:s=>{if((s==null?void 0:s.status)!=="error")return a("/")}}),message:o}},z=()=>{const[n]=r.useForm(),o=p(),{signIn:a,message:t}=v();return e.jsxs(r,{className:"min-w-80",onFinish:a.mutate,form:n,layout:"vertical",children:[e.jsx(r.Item,{children:e.jsxs(i,{to:o,className:`flex w-full gap-2 justify-center rounded-md border\r
                            border-gray-300 bg-white py-3 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-50`,children:[e.jsx(f,{style:{fontSize:"20px"}}),"Sign In with Google"]})}),e.jsx(r.Item,{children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("div",{className:"flex-grow border-t border-gray-200"}),e.jsx("span",{className:"mx-4 text-xs text-gray-200 text-center uppercase whitespace-nowrap",children:"Or"}),e.jsx("div",{className:"flex-grow border-t border-gray-200"})]})}),e.jsx(r.Item,{className:"text-gray-200",label:"Email",name:"email",rules:[h],children:e.jsx(l,{size:"large",prefix:e.jsx(j,{})})}),e.jsx(r.Item,{className:"text-gray-200",label:"Password",name:"password",rules:[y],children:e.jsx(l,{size:"large",prefix:e.jsx(b,{}),suffix:e.jsx(u,{placement:"right",title:e.jsx(w,{listRiles:I,field:"Пароль"}),children:e.jsx(N,{})})})}),t&&e.jsx("small",{className:"text-red-500 block mt-2",children:t}),e.jsx(r.Item,{children:e.jsxs(R,{align:"center",justify:"space-between",children:[e.jsx(d,{type:"default",htmlType:"submit",children:"Войти"}),e.jsx(i,{className:"text-gray-200",to:"/signup",children:"Еще нет аккаунта?"})]})})]})};export{z as default};
